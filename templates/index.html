{% extends "layout.html" %}

{% block scripts %}
<script>
    function insertParam(key, value) {
        key = encodeURIComponent(key); value = encodeURIComponent(value);
        var s = document.location.search;
        var kvp = key + "=" + value;
        var r = new RegExp("(&|\\?)" + key + "=[^\&]*");
        s = s.replace(r, "$1" + kvp);
        if (!RegExp.$1) { s += (s.length > 0 ? '&' : '?') + kvp; };
        //again, do what you will here
        document.location.search = s;
    }

    (function () {
        // your page initialization code here. the DOM will be available here
        const urlParams = new URLSearchParams(window.location.search);
        const category = urlParams.get('category')
        const location = urlParams.get('location')

        document.getElementsByName("menu-item").forEach(function (menu) {
            menu.classList.remove("active");
        });

        document.getElementById("category-" + category).className += "active";
        document.getElementById("location-" + location).className += "active";
    })();
</script>
{% endblock %}


{% block content %}

<div class="products-catagories-area clearfix">
    <div class="amado-pro-catagory clearfix">

        {% if vendors %}
        {% for row in vendors%}
        <!-- Single Catagory -->
        <div class="single-products-catagory clearfix">
            <a href="vendor/{{ row[0] }}">
                {% if (row[4]) %}
                <img src="/img/{{ row[4] }}" alt="">
                {% else %}
                <img src="images/bg-img/1.jpg" alt="">
                {% endif %}
                <!-- Hover Content -->
                <div class="hover-content">
                    <div class="line"></div>
                    <p>{{ row[3] }}</p>
                    <h4>{{ row[1] }}</h4>
                </div>
            </a>
        </div>
        {% endfor %}
        {% endif %}
    </div>
</div>
{% endblock %}